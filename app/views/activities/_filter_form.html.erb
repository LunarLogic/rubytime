<%= form_for @search_criteria, :action => "/activities/filter", :method => :get do %>
<fieldset>

  <% unless current_user.is_client_user? %>
    <%= partial(:criteria_group, :with => :client, :as => :group) %>
  <% end %>
  
  <%= partial(:criteria_group, :with => :project, :as => :group) %>
  
  <% if current_user.is_admin? || current_user.is_client_user? %>
    <%= partial(:criteria_group, :with => :role, :as => :group) %>
    <%= partial(:criteria_group, :with => :user, :as => :group) %>
  <% end %>
  
  <p>
    <%= text_field :date_from, :label => "From", :class => 'datepicker', :size => 9 %>
  </p>
  
  <p>
    <%= text_field :date_to, :label => "To", :class => 'datepicker', :size => 9  %>
  </p>
  
  <p>
    <label>Include</label>
    <%= radio_group :invoiced, [{ :value => "all", :label => "All" }, 
                                { :value => "invoiced", :label => "Invoiced" }, 
                                { :value => "not_invoiced", :label => "Not invoiced" }] %>
  </p>
  
  <p>
    <label>&nbsp;</label>
    <%= submit "Submit", :class => "button" %>
  </p>
  
</fieldset>
<% end =%>
