<h1>Account settings</h1>

<%= error_messages_for @user %>

<%= form_for(@user, :as => :user, :url => user_path(@user), :html => {:id => "user_form"}) do |f| %>
  <fieldset id="account-settings">
    <p>
      <label>Login</label><span class="static_text"><%= @user.login %></span>
    </p>
    <p>
      <%= f.label :name, "Name" %>
      <%= f.text_field :name %>
    </p>
    <p>
      <%= f.label :ldap_login, "LDAP Login" %>
      <%= f.text_field :ldap_login %>
    </p>
    <p>
      <%= f.label :email, "Email" %>
      <%= f.text_field :email %>
    </p>
    <p>
      <%= f.label :password, "Password" %>
      <%= f.password_field :password %>
    </p>
    <p>
      <%= f.label :password_confirmation, "Password confirmation" %>
      <%= f.password_field :password_confirmation %>
    </p>
    <p class="options">
      <span>Show activities for last</span>
      <%= radio_options(@user, :recent_days_on_list, Rubytime::RECENT_DAYS_ON_LIST) { |v| recent_days_on_list_desc(v) }%>
    </p>
    <p class="options">
      <span>Date format</span>
      <%= radio_options(@user, :date_format, Rubytime::DATE_FORMAT_NAMES) { |v| date_format_desc(v) } %>
    </p>
    <p class="options">
      <span>Decimal separator</span>
      <%= radio_options(@user, :decimal_separator, Rubytime::DECIMAL_SEPARATORS) { |v| v } %>
    </p>
    <% if @user.is_employee? %>
      <p class="options">
        <span>Email reminder</span>
        <%= f.check_box "remind_by_email" %>
      </p>
    <% end %>
    <p class="buttons">
      <%= f.submit "Update", :class => "button" %> or <%= link_to 'Cancel', activities_path %>
    </p>
  </fieldset>
<% end =%>
